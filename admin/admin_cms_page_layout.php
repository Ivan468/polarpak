<?php $viart_encoded = true; include_once(base64_decode("Li9hZG1pbl9jb25maWcucGhw")); include_once($root_folder_path.base64_decode("aW5jbHVkZXMvY29tbW9uLnBocA==")); include_once(base64_decode("Li9hZG1pbl9jb21tb24ucGhw")); include_once($root_folder_path.base64_decode("aW5jbHVkZXMvcmVjb3JkLnBocA==")); include_once($root_folder_path.base64_decode("aW5jbHVkZXMvY21zX2Z1bmN0aW9ucy5waHA=")); include_once($root_folder_path.base64_decode("aW5jbHVkZXMvYXJ0aWNsZXNfZnVuY3Rpb25zLnBocA==")); include_once($root_folder_path.base64_decode("bWVzc2FnZXMv").$language_code.base64_decode("L2NhcnRfbWVzc2FnZXMucGhw")); include_once($root_folder_path.base64_decode("bWVzc2FnZXMv").$language_code.base64_decode("L2ZvcnVtX21lc3NhZ2VzLnBocA==")); include_once($root_folder_path.base64_decode("bWVzc2FnZXMv").$language_code.base64_decode("L21hbnVhbHNfbWVzc2FnZXMucGhw")); include_once($root_folder_path.base64_decode("bWVzc2FnZXMv").$language_code.base64_decode("L3N1cHBvcnRfbWVzc2FnZXMucGhw")); include_once($root_folder_path.base64_decode("bWVzc2FnZXMv").$language_code.base64_decode("L3Byb2ZpbGVzX21lc3NhZ2VzLnBocA==")); check_admin_security(base64_decode("Y21zX3NldHRpbmdz")); $rp = get_param(base64_decode("cnA=")); $rp = "";  $sts = get_param(base64_decode("c3Rz")); $page_id = get_param(base64_decode("cGFnZV9pZA==")); $page_code = get_param(base64_decode("cGFnZV9jb2Rl")); $key_code = get_param(base64_decode("a2V5X2NvZGU=")); $key_type = get_param(base64_decode("a2V5X3R5cGU=")); $operation = get_param(base64_decode("b3BlcmF0aW9u")); $param_site_id = get_session(base64_decode("c2Vzc2lvbl9zaXRlX2lk")); $sql  = base64_decode("IFNFTEVDVCBzZXR0aW5nX25hbWUsIHNldHRpbmdfdmFsdWUgRlJPTSA=") . $table_prefix . base64_decode("Z2xvYmFsX3NldHRpbmdzIA=="); $sql .= base64_decode("IFdIRVJFIHNldHRpbmdfdHlwZT0nZ2xvYmFsJyA="); $sql .= base64_decode("IEFORCAoc2l0ZV9pZD0xIE9SIHNpdGVfaWQ9") . $db->tosql($param_site_id, INTEGER) . base64_decode("KQ=="); $sql .= base64_decode("IE9SREVSIEJZIHNpdGVfaWQgQVNDIA=="); $db->query($sql); while ($db->next_record()) { $site_settings[$db->f(base64_decode("c2V0dGluZ19uYW1l"))] = $db->f(base64_decode("c2V0dGluZ192YWx1ZQ==")); } $param_site_url = get_setting_value($site_settings, base64_decode("c2l0ZV91cmw="), ""); $friendly_urls = get_setting_value($site_settings, base64_decode("ZnJpZW5kbHlfdXJscw=="), 0); $friendly_extension = get_setting_value($site_settings, base64_decode("ZnJpZW5kbHlfZXh0ZW5zaW9u"), ""); $current_module_code = ""; $current_module_name = "";  $current_page_name = ""; if (!$page_id && $page_code) { $sql  = base64_decode("IFNFTEVDVCBjcC5wYWdlX2lkLCBjcC5wYWdlX25hbWUsIGNtLm1vZHVsZV9uYW1lLCBjbS5tb2R1bGVfY29kZSA="); $sql .= base64_decode("IEZST00gKA==") . $table_prefix . base64_decode("Y21zX3BhZ2VzIGNwIA=="); $sql .= base64_decode("IExFRlQgSk9JTiA=") . $table_prefix . base64_decode("Y21zX21vZHVsZXMgY20gT04gY3AubW9kdWxlX2lkPWNtLm1vZHVsZV9pZCkg"); $sql .= base64_decode("IFdIRVJFIHBhZ2VfY29kZT0=") . $db->tosql($page_code, TEXT); $db->query($sql); if ($db->next_record()) { $page_id = $db->f(base64_decode("cGFnZV9pZA==")); $current_page_name = $db->f(base64_decode("cGFnZV9uYW1l")); $current_module_code = $db->f(base64_decode("bW9kdWxlX2NvZGU=")); $current_module_name = $db->f(base64_decode("bW9kdWxlX25hbWU=")); } } else if (!$page_code && $page_id) { $sql  = base64_decode("IFNFTEVDVCBjcC5wYWdlX2NvZGUsIGNwLnBhZ2VfbmFtZSwgY20ubW9kdWxlX25hbWUsIGNtLm1vZHVsZV9jb2RlIA=="); $sql .= base64_decode("IEZST00gKA==") . $table_prefix . base64_decode("Y21zX3BhZ2VzIGNwIA=="); $sql .= base64_decode("IExFRlQgSk9JTiA=") . $table_prefix . base64_decode("Y21zX21vZHVsZXMgY20gT04gY3AubW9kdWxlX2lkPWNtLm1vZHVsZV9pZCkg"); $sql .= base64_decode("IFdIRVJFIHBhZ2VfaWQ9") . $db->tosql($page_id, INTEGER); $db->query($sql); if ($db->next_record()) { $page_code = $db->f(base64_decode("cGFnZV9jb2Rl")); $current_page_name = $db->f(base64_decode("cGFnZV9uYW1l")); $current_module_code = $db->f(base64_decode("bW9kdWxlX2NvZGU=")); $current_module_name = $db->f(base64_decode("bW9kdWxlX25hbWU=")); } else { $page_id = ""; } } else if (strlen($page_id)) { $sql  = base64_decode("IFNFTEVDVCBjcC5wYWdlX2NvZGUsIGNwLnBhZ2VfbmFtZSwgY20ubW9kdWxlX25hbWUsIGNtLm1vZHVsZV9jb2RlIA=="); $sql .= base64_decode("IEZST00gKA==") . $table_prefix . base64_decode("Y21zX3BhZ2VzIGNwIA=="); $sql .= base64_decode("IExFRlQgSk9JTiA=") . $table_prefix . base64_decode("Y21zX21vZHVsZXMgY20gT04gY3AubW9kdWxlX2lkPWNtLm1vZHVsZV9pZCkg"); $sql .= base64_decode("IFdIRVJFIHBhZ2VfaWQ9") . $db->tosql($page_id, INTEGER); $db->query($sql); if ($db->next_record()) { $page_id = $db->f(base64_decode("cGFnZV9pZA==")); $page_code = $db->f(base64_decode("cGFnZV9jb2Rl")); $current_page_name = $db->f(base64_decode("cGFnZV9uYW1l")); $current_module_code = $db->f(base64_decode("bW9kdWxlX2NvZGU=")); $current_module_name = $db->f(base64_decode("bW9kdWxlX25hbWU=")); } } parse_value($current_module_name); parse_value($current_page_name); if ($current_module_code == base64_decode("YXJ0aWNsZXM=")) { if ($key_type == base64_decode("YXJ0aWNsZQ==")) { $top_id = VA_Articles::get_top_id($key_code); } else { $top_id = $key_code; } $sql  = base64_decode("IFNFTEVDVCBjYXRlZ29yeV9uYW1lIEZST00g") . $table_prefix .base64_decode("YXJ0aWNsZXNfY2F0ZWdvcmllcyA="); $sql .= base64_decode("IFdIRVJFIGNhdGVnb3J5X2lkPQ==") . $db->tosql($top_id, INTEGER); $db->query($sql); if ($db->next_record()) { $articles_category = get_translation($db->f(base64_decode("Y2F0ZWdvcnlfbmFtZQ=="))); $current_module_name = str_replace(base64_decode("e2NhdGVnb3J5X25hbWV9"), $articles_category, $current_module_name); } } $t = new VA_Template($settings[base64_decode("YWRtaW5fdGVtcGxhdGVzX2Rpcg==")]); $t->set_file(base64_decode("bWFpbg=="),base64_decode("YWRtaW5fY21zX3BhZ2VfbGF5b3V0Lmh0bWw=")); $t->set_file(base64_decode("ZnJhbWU="), base64_decode("YWRtaW5fY21zX2ZyYW1lLmh0bWw=")); $t->set_file(base64_decode("Y29udGFpbmVy"), base64_decode("YWRtaW5fY21zX2NvbnRhaW5lci5odG1s")); $t->set_var(base64_decode("YWRtaW5fY21zX2hyZWY="), base64_decode("YWRtaW5fY21zLnBocA==")); $t->set_var(base64_decode("YWRtaW5fY21zX3BhZ2VfbGF5b3V0X2hyZWY="), base64_decode("YWRtaW5fY21zX3BhZ2VfbGF5b3V0LnBocA==")); $t->set_var(base64_decode("a2V5X2NvZGU="), htmlspecialchars($key_code)); $t->set_var(base64_decode("a2V5X3R5cGU="), htmlspecialchars($key_type)); $t->set_var(base64_decode("cGFnZV9pZA=="), htmlspecialchars($page_id)); $t->set_var(base64_decode("Y3VycmVudF9wYWdlX25hbWU="), $current_page_name); $t->set_var(base64_decode("Y3VycmVudF9tb2R1bGVfbmFtZQ=="), $current_module_name); $t->set_var(base64_decode("cnA="), htmlspecialchars($rp)); $layouts = get_db_values(base64_decode("U0VMRUNUIGxheW91dF9pZCwgbGF5b3V0X25hbWUgRlJPTSA=") . $table_prefix . base64_decode("Y21zX2xheW91dHMgT1JERVIgQlkgbGF5b3V0X29yZGVyLCBsYXlvdXRfaWQg"), ""); $layout_types = array(); $sub_name = ""; $sub_url = ""; $on_live_url = ""; if (strlen($key_code)) { if ($page_code == base64_decode("Y3VzdG9tX3BhZ2U=")) { $layout_types = array( array(base64_decode("ZGVmYXVsdA=="), DEFAULT_PAGE_LAYOUT_MSG), array(base64_decode("Y3VzdG9t"), CUSTOM_PAGE_LAYOUT_MSG), ); $sql  = base64_decode("IFNFTEVDVCBwYWdlX2lkLCBwYWdlX3RpdGxlIA=="); $sql .= base64_decode("IEZST00g") . $table_prefix.base64_decode("cGFnZXMg"); $sql .= base64_decode("IFdIRVJFIHBhZ2VfaWQ9") . $db->tosql($key_code, INTEGER); $db->query($sql); if ($db->next_record()) { $sub_name = get_translation($db->f(base64_decode("cGFnZV90aXRsZQ=="))); $sub_url = base64_decode("YWRtaW5fcGFnZS5waHA/cGFnZV9pZD0=").$db->f(base64_decode("cGFnZV9pZA==")); } } else if ($page_code == base64_decode("cHJvZHVjdHNfbGlzdA==") || $page_code == base64_decode("YWRzX2xpc3Q=") || $page_code == base64_decode("YXJ0aWNsZXNfbGlzdA==")) { $layout_types = array( array(base64_decode("ZGVmYXVsdA=="), DEFAULT_PAGE_LAYOUT_MSG), array(base64_decode("Y2F0ZWdvcnk="), OVERRIDE_CATEGORY_LAYOUT_MSG), array(base64_decode("YWxs"), OVERRIDE_ALL_CATEGORIES_LAYOUT_MSG), ); $parent_category_id = ""; if ($page_code == base64_decode("cHJvZHVjdHNfbGlzdA==")) { $sql  = base64_decode("IFNFTEVDVCBjYXRlZ29yeV9pZCwgcGFyZW50X2NhdGVnb3J5X2lkLCBjYXRlZ29yeV9uYW1lLCBmcmllbmRseV91cmwg"); $sql .= base64_decode("IEZST00g") . $table_prefix.base64_decode("Y2F0ZWdvcmllcyA="); $sql .= base64_decode("IFdIRVJFIGNhdGVnb3J5X2lkPQ==") . $db->tosql($key_code, INTEGER); } else if ($page_code == base64_decode("YWRzX2xpc3Q=")) { $sql  = base64_decode("IFNFTEVDVCBjYXRlZ29yeV9pZCwgcGFyZW50X2NhdGVnb3J5X2lkLCBjYXRlZ29yeV9uYW1lLCBmcmllbmRseV91cmwg"); $sql .= base64_decode("IEZST00g") . $table_prefix.base64_decode("YWRzX2NhdGVnb3JpZXMg"); $sql .= base64_decode("IFdIRVJFIGNhdGVnb3J5X2lkPQ==") . $db->tosql($key_code, INTEGER); } else if ($page_code == base64_decode("YXJ0aWNsZXNfbGlzdA==")) { $sql  = base64_decode("IFNFTEVDVCBjYXRlZ29yeV9pZCwgcGFyZW50X2NhdGVnb3J5X2lkLCBjYXRlZ29yeV9uYW1lLCBmcmllbmRseV91cmwg"); $sql .= base64_decode("IEZST00g") . $table_prefix.base64_decode("YXJ0aWNsZXNfY2F0ZWdvcmllcyA="); $sql .= base64_decode("IFdIRVJFIGNhdGVnb3J5X2lkPQ==") . $db->tosql($key_code, INTEGER); } $db->query($sql); if ($db->next_record()) { $parent_category_id = $db->f(base64_decode("cGFyZW50X2NhdGVnb3J5X2lk")); $friendly_url = $db->f(base64_decode("ZnJpZW5kbHlfdXJs")); $sub_name = get_translation($db->f(base64_decode("Y2F0ZWdvcnlfbmFtZQ=="))); $sub_url = base64_decode("YWRtaW5faXRlbXNfbGlzdC5waHA/Y2F0ZWdvcnlfaWQ9").$db->f(base64_decode("Y2F0ZWdvcnlfaWQ=")); if ($friendly_urls && $friendly_url) { $on_live_url = $param_site_url.$friendly_url.$friendly_extension; } else if ($page_code == base64_decode("YXJ0aWNsZXNfbGlzdA==")) { $on_live_url = $param_site_url.base64_decode("YXJ0aWNsZXMucGhwP2NhdGVnb3J5X2lkPQ==").urlencode($key_code); } else if ($page_code == base64_decode("YWRzX2xpc3Q=")) { $on_live_url = $param_site_url.base64_decode("YWRzLnBocD9jYXRlZ29yeV9pZD0=").urlencode($key_code); } else { $on_live_url = $param_site_url.base64_decode("cHJvZHVjdHNfbGlzdC5waHA/Y2F0ZWdvcnlfaWQ9").urlencode($key_code); } } if ($parent_category_id == 0 && $page_code == base64_decode("YXJ0aWNsZXNfbGlzdA==")) { $layout_types = array(); } } else if ($page_code == base64_decode("YXJ0aWNsZV9kZXRhaWxz") && $key_type == base64_decode("YXJ0aWNsZQ==")) { $layout_types = array( array(base64_decode("ZGVmYXVsdA=="), DEFAULT_PAGE_LAYOUT_MSG), array(base64_decode("Y3VzdG9t"), CUSTOM_PAGE_LAYOUT_MSG), ); $sql  = base64_decode("IFNFTEVDVCBhcnRpY2xlX2lkLCBhcnRpY2xlX3RpdGxlLCBmcmllbmRseV91cmwg"); $sql .= base64_decode("IEZST00g") . $table_prefix.base64_decode("YXJ0aWNsZXMg"); $sql .= base64_decode("IFdIRVJFIGFydGljbGVfaWQ9") . $db->tosql($key_code, INTEGER); $db->query($sql); if ($db->next_record()) { $article_id = $db->f(base64_decode("YXJ0aWNsZV9pZA==")); $friendly_url = $db->f(base64_decode("ZnJpZW5kbHlfdXJs")); $sub_name = get_translation($db->f(base64_decode("YXJ0aWNsZV90aXRsZQ=="))); $sub_url = base64_decode("YWRtaW5fYXJ0aWNsZS5waHA/YXJ0aWNsZV9pZD0=").$db->f(base64_decode("YXJ0aWNsZV9pZA==")); if ($friendly_urls && $friendly_url) { $on_live_url = $param_site_url.$friendly_url.$friendly_extension; } else { $on_live_url = $param_site_url.base64_decode("YXJ0aWNsZS5waHA/YXJ0aWNsZV9pZD0=").urlencode($article_id); } } } } if ($sub_name) { $t->set_var(base64_decode("c3ViX25hbWU="), $sub_name); $t->set_var(base64_decode("c3ViX3VybA=="), $sub_url); $t->parse(base64_decode("c3ViX25hbWVfYmxvY2s="), false); } $page_urls = array( base64_decode("aW5kZXg=") => base64_decode("aW5kZXgucGhw"), base64_decode("c2l0ZV9tYXA=") => base64_decode("c2l0ZV9tYXAucGhw"), base64_decode("c2l0ZV9zZWFyY2g=") => base64_decode("c2l0ZV9zZWFyY2gucGhw"), base64_decode("Zm9yZ290X3Bhc3N3b3Jk") => base64_decode("Zm9yZ290X3Bhc3N3b3JkLnBocA=="), base64_decode("cmVzZXRfcGFzc3dvcmQ=") => base64_decode("cmVzZXRfcGFzc3dvcmQucGhw"), base64_decode("cG9sbHM=") => base64_decode("cG9sbHMucGhw"), base64_decode("dXNlcl9sb2dpbg==") => base64_decode("dXNlcl9sb2dpbi5waHA="), base64_decode("dXNlcl9wcm9maWxl") => base64_decode("dXNlcl9wcm9maWxlLnBocA=="), base64_decode("Y29udGFjdF91cw==") => base64_decode("Y29udGFjdF91cy5waHA="), base64_decode("c3Vic2NyaWJl") => base64_decode("c3Vic2NyaWJlLnBocA=="), base64_decode("dW5zdWJzY3JpYmU=") => base64_decode("dW5zdWJzY3JpYmUucGhw"), base64_decode("cHJvZHVjdHNfbGlzdA==") => base64_decode("cHJvZHVjdHNfbGlzdC5waHA="), ); if (!$on_live_url && $page_code && isset($page_urls[$page_code])) { $on_live_url = $param_site_url . $page_urls[$page_code]; } if ($on_live_url) { $t->set_var(base64_decode("b25fbGl2ZV91cmw="), htmlspecialchars($on_live_url)); $t->sparse(base64_decode("dmlld19vbl9saXZlX2Jsb2Nr"), false); } $r = new VA_Record($table_prefix . base64_decode("Y21zX3BhZ2VzX3NldHRpbmdz")); $r->add_where(base64_decode("cHNfaWQ="), INTEGER); $r->add_textbox(base64_decode("cGFnZV9pZA=="), INTEGER); $r->change_property(base64_decode("cGFnZV9pZA=="), REQUIRED, true); $r->add_textbox(base64_decode("a2V5X2NvZGU="), TEXT, CODE_MSG); $r->change_property(base64_decode("a2V5X2NvZGU="), USE_SQL_NULL, false); $r->add_textbox(base64_decode("a2V5X3R5cGU="), TEXT, CODE_MSG); $r->change_property(base64_decode("a2V5X3R5cGU="), USE_SQL_NULL, false); $r->add_select(base64_decode("a2V5X3J1bGU="), TEXT, $layout_types, LAYOUT_TYPE_MSG); $r->change_property(base64_decode("a2V5X3J1bGU="), USE_SQL_NULL, false); if (sizeof($layout_types) == 0) { $r->change_property(base64_decode("a2V5X3J1bGU="), SHOW, false); } $r->add_select(base64_decode("bGF5b3V0X2lk"), INTEGER, $layouts, LAYOUT_MSG); $r->add_textbox(base64_decode("c2l0ZV9pZA=="), INTEGER, ADMIN_SITE_MSG); $r->add_textbox(base64_decode("cGFnZV9jbGFzcw=="), TEXT); $r->add_textbox(base64_decode("bWV0YV90aXRsZQ=="), TEXT); $r->add_textbox(base64_decode("bWV0YV9rZXl3b3Jkcw=="), TEXT); $r->add_textbox(base64_decode("bWV0YV9kZXNjcmlwdGlvbg=="), TEXT); if (!$page_id) { $r->errors = ERRORS_MSG.base64_decode("OiA=").get_request_uri(); } $frame_fields = array( base64_decode("ZnJhbWVfc3R5bGU="), base64_decode("ZnJhbWVfY2xhc3M="), base64_decode("ZnJhbWVfY29kZQ=="), base64_decode("aHRtbF9mcmFtZV9zdGFydA=="), base64_decode("aHRtbF9iZWZvcmVfYmxvY2s="), base64_decode("aHRtbF9iZXR3ZWVuX2Jsb2Nrcw=="), base64_decode("aHRtbF9hZnRlcl9ibG9jaw=="), base64_decode("aHRtbF9mcmFtZV9lbmQ=") ); $pf = new VA_Record($table_prefix . base64_decode("Y21zX2ZyYW1lc19zZXR0aW5ncw==")); $pf->add_where(base64_decode("ZnNfaWQ="), INTEGER); $pf->add_textbox(base64_decode("cHNfaWQ="), INTEGER); $pf->add_textbox(base64_decode("ZnJhbWVfaWQ="), INTEGER); for ($f = 0; $f < sizeof($frame_fields); $f++) { $pf->add_textbox($frame_fields[$f], TEXT); } $pb = new VA_Record($table_prefix . base64_decode("Y21zX3BhZ2VzX2Jsb2Nrcw==")); $pb->add_where(base64_decode("cGJfaWQ="), INTEGER); $pb->add_textbox(base64_decode("cHNfaWQ="), INTEGER); $pb->add_textbox(base64_decode("YmxvY2tfaWQ="), INTEGER); $pb->add_textbox(base64_decode("YmxvY2tfa2V5"), TEXT); $pb->add_textbox(base64_decode("ZnJhbWVfaWQ="), INTEGER); $pb->add_textbox(base64_decode("YmxvY2tfb3JkZXI="), INTEGER); $pb->add_textbox(base64_decode("dGFnX25hbWU="), TEXT); $pb->add_textbox(base64_decode("bGF5b3V0X3R5cGU="), TEXT); $pb->add_textbox(base64_decode("bGF5b3V0X3RlbXBsYXRl"), TEXT); $pb->add_textbox(base64_decode("aHRtbF90ZW1wbGF0ZQ=="), TEXT); $pb->add_textbox(base64_decode("Y3NzX2NsYXNz"), TEXT); $pb->add_textbox(base64_decode("YmxvY2tfc3R5bGU="), TEXT); $pb->add_textbox(base64_decode("YmxvY2tfdGl0bGU="), TEXT); $bs = new VA_Record($table_prefix . base64_decode("Y21zX2Jsb2Nrc19zZXR0aW5ncw==")); $bs->add_where(base64_decode("YnNfaWQ="), INTEGER); $bs->add_textbox(base64_decode("cHNfaWQ="), INTEGER); $bs->add_textbox(base64_decode("cGJfaWQ="), INTEGER); $bs->add_textbox(base64_decode("cHJvcGVydHlfaWQ="), INTEGER); $bs->add_textbox(base64_decode("dmFsdWVfaWQ="), INTEGER); $bs->add_textbox(base64_decode("dmFyaWFibGVfbmFtZQ=="), TEXT); $bs->add_textbox(base64_decode("dmFyaWFibGVfdmFsdWU="), TEXT); $bp = new VA_Record($table_prefix . base64_decode("Y21zX2Jsb2Nrc19wZXJpb2Rz")); $bp->add_where(base64_decode("cGVyaW9kX2lk"), INTEGER); $bp->add_textbox(base64_decode("cHNfaWQ="), INTEGER); $bp->add_textbox(base64_decode("cGJfaWQ="), INTEGER); $bp->add_textbox(base64_decode("c3RhcnRfZGF0ZQ=="), DATETIME); $bp->add_textbox(base64_decode("ZW5kX2RhdGU="), DATETIME); $bp->add_textbox(base64_decode("c3RhcnRfdGltZQ=="), INTEGER); $bp->add_textbox(base64_decode("ZW5kX3RpbWU="), INTEGER); $bp->add_textbox(base64_decode("d2Vla19kYXlz"), INTEGER); $errors = ""; $r->get_form_parameters(); $r->set_value(base64_decode("cGFnZV9pZA=="), $page_id);  if ($operation) { $md5_file_function = base64_decode("bWQ=").base64_decode("NV9m").base64_decode("aWxl"); $includes_dir = base64_decode("Li4vaW4=").base64_decode("Y2x1ZGVzLw=="); $filename = base64_decode("dmFf").base64_decode("ZnVuYw==").base64_decode("dGlvbnM=").base64_decode("LnBocA=="); if ($md5_file_function($includes_dir.$filename) != base64_decode("NTAzOGQxZTZkYjIxMGQ1ZmVjMDM4YmJhNTkyOWU3N2Y=")) { $r->errors = ERRORS_MSG; } if (!$r->errors) { $r->set_value(base64_decode("c2l0ZV9pZA=="), $param_site_id); if ($r->is_empty(base64_decode("cHNfaWQ="))) { $r->insert_record(); $ps_id = $db->last_insert_id(); $r->set_value(base64_decode("cHNfaWQ="), $ps_id); } else { $r->update_record(); } $ps_id = $r->get_value(base64_decode("cHNfaWQ=")); $layout_id = $r->get_value(base64_decode("bGF5b3V0X2lk")); $frames_tags = array(); $sql  = base64_decode("IFNFTEVDVCAqIEZST00g") . $table_prefix . base64_decode("Y21zX2ZyYW1lcyA="); $sql .= base64_decode("IFdIRVJFIGxheW91dF9pZD0=") . $db->tosql($layout_id, INTEGER); $db->query($sql); while ($db->next_record()) { $frame_id = $db->f(base64_decode("ZnJhbWVfaWQ=")); $frame_name = $db->f(base64_decode("ZnJhbWVfbmFtZQ==")); $tag_name = $db->f(base64_decode("dGFnX25hbWU=")); $frames_tags[$tag_name] = $frame_id; } $cms_settings = get_cms_settings($sts, $frames_tags); $sql  = base64_decode("IERFTEVURSBGUk9NIA==") . $table_prefix . base64_decode("Y21zX2ZyYW1lc19zZXR0aW5ncyA="); $sql .= base64_decode("IFdIRVJFIHBzX2lkPQ==") . $db->tosql($ps_id, INTEGER); $db->query($sql); $sql  = base64_decode("IERFTEVURSBGUk9NIA==") . $table_prefix . base64_decode("Y21zX3BhZ2VzX2Jsb2NrcyA="); $sql .= base64_decode("IFdIRVJFIHBzX2lkPQ==") . $db->tosql($ps_id, INTEGER); $db->query($sql); $sql  = base64_decode("IERFTEVURSBGUk9NIA==") . $table_prefix . base64_decode("Y21zX2Jsb2Nrc19zZXR0aW5ncyA="); $sql .= base64_decode("IFdIRVJFIHBzX2lkPTAgT1IgcHNfaWQ9") . $db->tosql($ps_id, INTEGER); $db->query($sql); $sql  = base64_decode("IERFTEVURSBGUk9NIA==") . $table_prefix . base64_decode("Y21zX2Jsb2Nrc19wZXJpb2RzIA=="); $sql .= base64_decode("IFdIRVJFIHBzX2lkPTAgT1IgcHNfaWQ9") . $db->tosql($ps_id, INTEGER); $db->query($sql); foreach ($cms_settings as $frame_tag => $frame) { $frame_id = $frame[base64_decode("aWQ=")]; $pf->set_value(base64_decode("cHNfaWQ="), $ps_id); $pf->set_value(base64_decode("ZnJhbWVfaWQ="), $frame_id); for ($f = 0; $f < sizeof($frame_fields); $f++) { $field_name = $frame_fields[$f]; $field_value = isset($frame[$field_name]) ? $frame[$field_name] : ""; $pf->set_value($field_name, $field_value); } $pf->insert_record(); $blocks = isset($frame[base64_decode("YmxvY2tz")]) ? $frame[base64_decode("YmxvY2tz")] : ""; if (is_array($blocks) && sizeof($blocks)) { foreach ($blocks as $block_order => $block) { $block_id = $block[base64_decode("aWQ=")]; $block_name = $block[base64_decode("bmFtZQ==")]; $block_key = $block[base64_decode("a2V5")]; $block_tag_name = $block[base64_decode("dGFnX25hbWU=")]; $block_layout_type = $block[base64_decode("bGF5b3V0X3R5cGU=")]; $block_layout_template = $block[base64_decode("bGF5b3V0X3RlbXBsYXRl")]; $html_template = $block[base64_decode("aHRtbF90ZW1wbGF0ZQ==")]; $css_class = $block[base64_decode("Y3NzX2NsYXNz")]; $block_style = $block[base64_decode("YmxvY2tfc3R5bGU=")]; $block_title = $block[base64_decode("YmxvY2tfdGl0bGU=")]; $pb->set_value(base64_decode("cHNfaWQ="), $ps_id); $pb->set_value(base64_decode("YmxvY2tfaWQ="), $block_id); $pb->set_value(base64_decode("YmxvY2tfa2V5"), $block_key); $pb->set_value(base64_decode("ZnJhbWVfaWQ="), $frame_id); $pb->set_value(base64_decode("YmxvY2tfb3JkZXI="), $block_order); $pb->set_value(base64_decode("dGFnX25hbWU="), $block_tag_name); $pb->set_value(base64_decode("bGF5b3V0X3R5cGU="), $block_layout_type); $pb->set_value(base64_decode("bGF5b3V0X3RlbXBsYXRl"), $block_layout_template); $pb->set_value(base64_decode("aHRtbF90ZW1wbGF0ZQ=="), $html_template); $pb->set_value(base64_decode("Y3NzX2NsYXNz"), $css_class); $pb->set_value(base64_decode("YmxvY2tfc3R5bGU="), $block_style); $pb->set_value(base64_decode("YmxvY2tfdGl0bGU="), $block_title); $pb->insert_record(); $pb_id = $db->last_insert_id(); $pb->set_value(base64_decode("cGJfaWQ="), $pb_id); $properties = isset($block[base64_decode("cHJvcGVydGllcw==")]) ? $block[base64_decode("cHJvcGVydGllcw==")] : ""; if (is_array($properties) && sizeof($properties) > 0) { foreach($properties as $id => $property) { $property_type = $property[base64_decode("dHlwZQ==")]; if ($property_type == base64_decode("b3B0aW9u")) { $property_id = $property[base64_decode("aWQ=")]; $variable_name = ""; $value = $property[base64_decode("dmFsdWU=")]; $value_id = ""; $sql  = base64_decode("IFNFTEVDVCAqIEZST00g") . $table_prefix . base64_decode("Y21zX2Jsb2Nrc19wcm9wZXJ0aWVzIA=="); $sql .= base64_decode("IFdIRVJFIHByb3BlcnR5X2lkPQ==") . $db->tosql($property_id, INTEGER); $db->query($sql); if ($db->next_record()) { $control_type = strtoupper($db->f(base64_decode("Y29udHJvbF90eXBl"))); $variable_name = $db->f(base64_decode("dmFyaWFibGVfbmFtZQ==")); $default_value = $db->f(base64_decode("ZGVmYXVsdF92YWx1ZQ==")); if ($control_type == base64_decode("Q0hFQ0tCT1hMSVNU") || $control_type == base64_decode("UkFESU9CVVRUT04=") || $control_type == base64_decode("TElTVEJPWA==")) { $sql  = base64_decode("IFNFTEVDVCAqIEZST00g") . $table_prefix . base64_decode("Y21zX2Jsb2Nrc192YWx1ZXM="); $sql .= base64_decode("IFdIRVJFIHZhbHVlX2lkPQ==") . $db->tosql($value, INTEGER); $db->query($sql); if ($db->next_record()) { $value_id = $value; $value_variable_name = $db->f(base64_decode("dmFyaWFibGVfbmFtZQ==")); if ($value_variable_name) { $variable_name = $value_variable_name; } $variable_value = $db->f(base64_decode("dmFyaWFibGVfdmFsdWU=")); if (!strlen($variable_value)) { $variable_value = $db->f(base64_decode("dmFsdWVfbmFtZQ==")); } } else { $variable_value = $value; } } else if ($control_type == base64_decode("TEFCRUw=")) { $variable_value = $default_value; } else { $variable_value = $value; } } else { $variable_value = $value; } if (strlen($variable_name)) { $bs->set_value(base64_decode("cHNfaWQ="), $ps_id); $bs->set_value(base64_decode("cGJfaWQ="), $pb_id); $bs->set_value(base64_decode("cHJvcGVydHlfaWQ="), $property_id); $bs->set_value(base64_decode("dmFsdWVfaWQ="), $value_id); $bs->set_value(base64_decode("dmFyaWFibGVfbmFtZQ=="), $variable_name); $bs->set_value(base64_decode("dmFyaWFibGVfdmFsdWU="), $variable_value); $bs->insert_record(); } } else if ($property_type == base64_decode("cGVyaW9k")) { $start_date = parse_date($property[base64_decode("c3RhcnRfZGF0ZQ==")], base64_decode("WVlZWS1NTS1ERA=="), $date_error); $end_date = parse_date($property[base64_decode("ZW5kX2RhdGU=")], base64_decode("WVlZWS1NTS1ERA=="), $date_error); if (preg_match(base64_decode("LyhcZHsxLDJ9KTooXGR7MSwyfSkv"), $property[base64_decode("c3RhcnRfdGltZQ==")], $matches)) { $start_time = $matches[1]*60 + $matches[2]; } else { $start_time = ""; } if (preg_match(base64_decode("LyhcZHsxLDJ9KTooXGR7MSwyfSkv"), $property[base64_decode("ZW5kX3RpbWU=")], $matches)) { $end_time = $matches[1]*60 + $matches[2]; } else { $end_time = ""; } $week_days = $property[base64_decode("d2Vla19kYXlz")]; if (is_array($start_date) || is_array($end_date) || $start_time || $end_time || $week_days != 127) { $bp->set_value(base64_decode("cHNfaWQ="), $ps_id); $bp->set_value(base64_decode("cGJfaWQ="), $pb_id); $bp->set_value(base64_decode("c3RhcnRfZGF0ZQ=="), $start_date); $bp->set_value(base64_decode("ZW5kX2RhdGU="), $end_date); $bp->set_value(base64_decode("c3RhcnRfdGltZQ=="), $start_time); $bp->set_value(base64_decode("ZW5kX3RpbWU="), $end_time); $bp->set_value(base64_decode("d2Vla19kYXlz"), $week_days); $bp->insert_record(); } } }  } }  } }  if ($rp) { header(base64_decode("TG9jYXRpb246IA==") . $rp); exit; } else { $t->parse(base64_decode("c3VjY2Vzc19ibG9jaw=="), false); } } } else { $ps_id = ""; $sql  = base64_decode("IFNFTEVDVCBwc19pZCBGUk9NIA==") . $table_prefix . base64_decode("Y21zX3BhZ2VzX3NldHRpbmdzIA=="); $sql .= base64_decode("IFdIRVJFIHBhZ2VfaWQ9") . $db->tosql($page_id, INTEGER); if (strlen($key_code)) { $sql .= base64_decode("IEFORCBrZXlfY29kZT0=") . $db->tosql($key_code, TEXT, true, false); } else { $sql .= base64_decode("IEFORCAoa2V5X2NvZGU9JycgT1Iga2V5X2NvZGUgSVMgTlVMTCkg"); } if (strlen($key_type)) { $sql .= base64_decode("IEFORCBrZXlfdHlwZT0=") . $db->tosql($key_type, TEXT, true, false); } else { $sql .= base64_decode("IEFORCAoa2V5X3R5cGU9JycgT1Iga2V5X3R5cGUgSVMgTlVMTCkg"); } $sql .= base64_decode("IEFORCBzaXRlX2lkPQ==") . $db->tosql($param_site_id, INTEGER); $sql .= base64_decode("IE9SREVSIEJZIHBzX2lkIA=="); $db->query($sql); if ($db->next_record()) { $ps_id = $db->f(base64_decode("cHNfaWQ=")); while ($db->next_record()) { $duplicated_ps_id = $db->f(base64_decode("cHNfaWQ=")); cms_delete_page_settings($duplicated_ps_id); } } $r->set_value(base64_decode("cHNfaWQ="), $ps_id); if (strlen($ps_id)) { $r->get_db_values(); $cms_settings = db_cms_settings($ps_id); $sts = generate_cms_settings($cms_settings); } else { $sts = ""; } } $layout_id = $r->get_value(base64_decode("bGF5b3V0X2lk")); $sql = base64_decode("IFNFTEVDVCAqIEZST00g") . $table_prefix . base64_decode("Y21zX2xheW91dHMg"); if (strlen($layout_id)) { $sql .= base64_decode("IFdIRVJFIGxheW91dF9pZD0=") . $db->tosql($layout_id, INTEGER); } $db->query($sql); if ($db->next_record()) { $layout_id = $db->f(base64_decode("bGF5b3V0X2lk")); $admin_template = $db->f(base64_decode("YWRtaW5fdGVtcGxhdGU=")); $template_path = $t->get_template_path(); if (file_exists($template_path.base64_decode("Lw==").$admin_template)) { $t->set_file(base64_decode("cGFnZV9sYXlvdXQ="), $admin_template); $sql  = base64_decode("IFNFTEVDVCAqIEZST00g") . $table_prefix . base64_decode("Y21zX2ZyYW1lcyA="); $sql .= base64_decode("IFdIRVJFIGxheW91dF9pZD0=") . $db->tosql($layout_id, INTEGER); $db->query($sql); while ($db->next_record()) { $frame_id = $db->f(base64_decode("ZnJhbWVfaWQ=")); $frame_name = $db->f(base64_decode("ZnJhbWVfbmFtZQ==")); parse_value($frame_name); $tag_name = $db->f(base64_decode("dGFnX25hbWU=")); $blocks_allowed = $db->f(base64_decode("YmxvY2tzX2FsbG93ZWQ=")); $t->set_var(base64_decode("ZnJhbWVfaWQ="), $frame_id); $t->set_var(base64_decode("ZnJhbWVfbmFtZQ=="), $frame_name); $t->set_var(base64_decode("dGFnX25hbWU="), $tag_name); if ($blocks_allowed) { $t->parse_to(base64_decode("ZnJhbWVfdG9w"), $tag_name.base64_decode("X3RvcA=="), false); $t->parse_to(base64_decode("ZnJhbWVfYm90dG9t"), $tag_name.base64_decode("X2JvdHRvbQ=="), false); $t->sparse(base64_decode("ZnJhbWVfdG9w"), false); $t->sparse(base64_decode("ZnJhbWVfYm90dG9t"), false); $t->parse_to(base64_decode("ZnJhbWU="), $tag_name, false); } else { $t->parse_to(base64_decode("Y29udGFpbmVyX3RvcA=="), $tag_name.base64_decode("X3RvcA=="), false); $t->parse_to(base64_decode("Y29udGFpbmVyX2JvdHRvbQ=="), $tag_name.base64_decode("X2JvdHRvbQ=="), false); $t->sparse(base64_decode("Y29udGFpbmVyX3RvcA=="), false); $t->sparse(base64_decode("Y29udGFpbmVyX2JvdHRvbQ=="), false); $t->parse_to(base64_decode("Y29udGFpbmVy"), $tag_name, false); } } $t->parse(base64_decode("cGFnZV9sYXlvdXQ="), false); } else { $r->errors = FILE_DOESNT_EXIST_MSG . base64_decode("IDxiPg==") . $template_path.base64_decode("Lw==").$admin_template . base64_decode("PC9iPg=="); } } $r->set_form_parameters(); $t->set_var(base64_decode("c3Rz"), $sts); $admin_cms_pages_url = new VA_URL(base64_decode("YWRtaW5fY21zX3BhZ2VzLnBocA=="), false); $admin_cms_pages_url->add_parameter(base64_decode("c29ydF9vcmQ="), REQUEST, base64_decode("c29ydF9vcmQ=")); $admin_cms_pages_url->add_parameter(base64_decode("c29ydF9kaXI="), REQUEST, base64_decode("c29ydF9kaXI=")); $admin_cms_pages_url->add_parameter(base64_decode("cGFnZQ=="), REQUEST, base64_decode("cGFnZQ==")); $t->set_var(base64_decode("YWRtaW5faHJlZg=="), base64_decode("YWRtaW4ucGhw")); $t->set_var(base64_decode("YWRtaW5fY21zX3BhZ2VzX2hyZWY="), base64_decode("YWRtaW5fY21zX3BhZ2VzLnBocA==")); $t->set_var(base64_decode("YWRtaW5fY21zX3BhZ2VfaHJlZg=="), base64_decode("YWRtaW5fY21zX3BhZ2UucGhw")); $t->set_var(base64_decode("YWRtaW5fY21zX3BhZ2VzX3VybA=="), $admin_cms_pages_url->get_url()); $sql  = base64_decode("IFNFTEVDVCBtb2R1bGVfaWQgRlJPTSA=") . $table_prefix . base64_decode("Y21zX3BhZ2VzIA=="); $sql .= base64_decode("IFdIRVJFIHBhZ2VfaWQ9") . $db->tosql($page_id, INTEGER); $page_module_id = get_db_value($sql); $page_key_code = $page_module_id.base64_decode("Xw==").$key_code; $db_blocks = array(); $sql  = base64_decode("IFNFTEVDVCBjYi5ibG9ja19pZCwgY2IuYmxvY2tfbmFtZSwgY2IuYmxvY2tfY29kZSwgY2IubW9kdWxlX2lkLCBjbS5tb2R1bGVfY29kZSwgY20ubW9kdWxlX25hbWUg"); $sql .= base64_decode("IEZST00gKCg=") . $table_prefix . base64_decode("Y21zX2Jsb2NrcyBjYiA="); $sql .= base64_decode("IElOTkVSIEpPSU4g") . $table_prefix . base64_decode("Y21zX21vZHVsZXMgY20gT04gY2IubW9kdWxlX2lkPWNtLm1vZHVsZV9pZCk="); $sql .= base64_decode("IExFRlQgSk9JTiAo"); $sql .= base64_decode("IFNFTEVDVCBibG9ja19pZCBGUk9NIA==") . $table_prefix . base64_decode("Y21zX2Jsb2Nrc19wYWdlcyBjYnAg"); $sql .= base64_decode("IFdIRVJFIHBhZ2VfaWQ9") . $db->tosql($page_id, INTEGER); $sql .= base64_decode("IEdST1VQIEJZIGJsb2NrX2lkIA=="); $sql .= base64_decode("ICkgY2JwIE9OIGNiLmJsb2NrX2lkPWNicC5ibG9ja19pZCkg"); $sql .= base64_decode("IFdIRVJFIGNiLnBhZ2VzX2FsbD0xIE9SIGNiLmJsb2NrX2lkPWNicC5ibG9ja19pZCA="); $sql .= base64_decode("IE9SREVSIEJZIGNtLm1vZHVsZV9vcmRlciwgY20ubW9kdWxlX25hbWUsIGNiLmJsb2NrX29yZGVyLCBjYi5ibG9ja19uYW1lIA=="); $db->query($sql); if ($db->next_record()) { do { $module_id = $db->f(base64_decode("bW9kdWxlX2lk")); $module_code = $db->f(base64_decode("bW9kdWxlX2NvZGU=")); $module_name = $db->f(base64_decode("bW9kdWxlX25hbWU=")); if (!isset($db_blocks[$module_id])) { $db_blocks[$module_id] = array( base64_decode("bW9kdWxlX2NvZGU=") => $module_code, base64_decode("bW9kdWxlX25hbWU=") => $module_name, base64_decode("YmxvY2tz") => array(), ); } $block_id = $db->f(base64_decode("YmxvY2tfaWQ=")); $block_code = $db->f(base64_decode("YmxvY2tfY29kZQ==")); $block_order = $db->f(base64_decode("YmxvY2tfb3JkZXI=")); $block_name = $db->f(base64_decode("YmxvY2tfbmFtZQ==")); $db_blocks[$module_id][base64_decode("YmxvY2tz")][] = array( base64_decode("YmxvY2tfaWQ=") => $block_id, base64_decode("YmxvY2tfY29kZQ==") => $block_code, base64_decode("YmxvY2tfb3JkZXI=") => $block_order, base64_decode("YmxvY2tfbmFtZQ==") => $block_name, base64_decode("YmxvY2tfa2V5") => "", ); } while ($db->next_record()); } $blocks = array(); $modules_settings = array( base64_decode("Y3VzdG9tX2Jsb2Nrcw==") => array( base64_decode("c3Fs") => base64_decode("IFNFTEVDVCBibG9ja19pZCwgYmxvY2tfbmFtZSBGUk9NIA==") . $table_prefix . base64_decode("Y3VzdG9tX2Jsb2NrcyA="), base64_decode("a2V5X2ZpZWxk") => base64_decode("YmxvY2tfaWQ="), base64_decode("bmFtZV9maWVsZA==") => base64_decode("YmxvY2tfbmFtZQ=="), base64_decode("YmxvY2tfY29kZQ==") => base64_decode("Y3VzdG9tX2Jsb2Nr"), ), base64_decode("YmFubmVycw==") => array( base64_decode("c3Fs") => base64_decode("IFNFTEVDVCBncm91cF9pZCwgZ3JvdXBfbmFtZSBGUk9NIA==") . $table_prefix . base64_decode("YmFubmVyc19ncm91cHMg"), base64_decode("a2V5X2ZpZWxk") => base64_decode("Z3JvdXBfaWQ="), base64_decode("bmFtZV9maWVsZA==") => base64_decode("Z3JvdXBfbmFtZQ=="), base64_decode("YmxvY2tfY29kZQ==") => base64_decode("YmFubmVycw=="), ), base64_decode("Y3VzdG9tX21lbnVz") => array( base64_decode("c3Fs") => base64_decode("IFNFTEVDVCBtZW51X2lkLCBtZW51X25hbWUgQVMgbWVudV90aXRsZSBGUk9NIA==") . $table_prefix . base64_decode("bWVudXMgT1JERVIgQlkgbWVudV9uYW1lIA=="), base64_decode("a2V5X2ZpZWxk") => base64_decode("bWVudV9pZA=="), base64_decode("bmFtZV9maWVsZA==") => base64_decode("bWVudV90aXRsZQ=="), base64_decode("YmxvY2tfY29kZQ==") => base64_decode("bmF2aWdhdGlvbg=="), ), base64_decode("ZmlsdGVycw==") => array( base64_decode("c3Fs") => base64_decode("IFNFTEVDVCBmaWx0ZXJfaWQsIGZpbHRlcl9uYW1lIEZST00g") . $table_prefix . base64_decode("ZmlsdGVycyA="), base64_decode("a2V5X2ZpZWxk") => base64_decode("ZmlsdGVyX2lk"), base64_decode("bmFtZV9maWVsZA==") => base64_decode("ZmlsdGVyX25hbWU="), base64_decode("YmxvY2tfY29kZQ==") => base64_decode("ZmlsdGVy"), ), base64_decode("c2xpZGVycw==") => array( base64_decode("c3Fs") => base64_decode("IFNFTEVDVCBzbGlkZXJfaWQsIHNsaWRlcl9uYW1lIEZST00g") . $table_prefix . base64_decode("c2xpZGVycyBPUkRFUiBCWSBzbGlkZXJfaWQg"), base64_decode("a2V5X2ZpZWxk") => base64_decode("c2xpZGVyX2lk"), base64_decode("bmFtZV9maWVsZA==") => base64_decode("c2xpZGVyX25hbWU="), base64_decode("YmxvY2tfY29kZQ==") => base64_decode("c2xpZGVy"), ), ); foreach ($db_blocks as $module_id => $module) { $module_code = $module[base64_decode("bW9kdWxlX2NvZGU=")]; $module_name = $module[base64_decode("bW9kdWxlX25hbWU=")]; $module_blocks = $module[base64_decode("YmxvY2tz")]; if (isset($modules_settings[$module_code])) { $blocks[$module_id] = array( base64_decode("bW9kdWxlX2NvZGU=") => $module_code, base64_decode("bW9kdWxlX25hbWU=") => $module_name, base64_decode("YmxvY2tz") => array(), ); $sql = $modules_settings[$module_code][base64_decode("c3Fs")]; $key_field = $modules_settings[$module_code][base64_decode("a2V5X2ZpZWxk")]; $name_field = $modules_settings[$module_code][base64_decode("bmFtZV9maWVsZA==")]; $module_block_code = $modules_settings[$module_code][base64_decode("YmxvY2tfY29kZQ==")]; foreach ($module_blocks as $id => $block_info) { if ($module_block_code != $block_info[base64_decode("YmxvY2tfY29kZQ==")]) { $blocks[$module_id][base64_decode("YmxvY2tz")][] = $block_info; } } $db->query($sql); while ($db->next_record()) { $key_value = $db->f($key_field); $name_value = get_translation($db->f($name_field)); foreach ($module_blocks as $id => $block_info) { if ($module_block_code == $block_info[base64_decode("YmxvY2tfY29kZQ==")]) { $block_id = $block_info[base64_decode("YmxvY2tfaWQ=")]; $block_order = $block_info[base64_decode("YmxvY2tfb3JkZXI=")]; $block_name = $block_info[base64_decode("YmxvY2tfbmFtZQ==")]; $block_name = str_replace(base64_decode("ew==").$key_field.base64_decode("fQ=="), $key_value, $block_name); $block_name = str_replace(base64_decode("ew==").$name_field.base64_decode("fQ=="), $name_value, $block_name); $blocks[$module_id][base64_decode("YmxvY2tz")][] = array( base64_decode("YmxvY2tfaWQ=") => $block_id, base64_decode("YmxvY2tfb3JkZXI=") => $block_order, base64_decode("YmxvY2tfa2V5") => $key_value, base64_decode("YmxvY2tfbmFtZQ==") => $block_name, ); } } } } else if ($module_code == base64_decode("YXJ0aWNsZXM=")) { $sql  = base64_decode("IFNFTEVDVCBjYXRlZ29yeV9pZCwgY2F0ZWdvcnlfbmFtZSBGUk9NIA==") . $table_prefix . base64_decode("YXJ0aWNsZXNfY2F0ZWdvcmllcyA="); $sql .= base64_decode("IFdIRVJFIHBhcmVudF9jYXRlZ29yeV9pZD0wIA=="); $db->query($sql); while ($db->next_record()) { $category_id = $db->f(base64_decode("Y2F0ZWdvcnlfaWQ=")); $category_name = get_translation($db->f(base64_decode("Y2F0ZWdvcnlfbmFtZQ=="))); $block_key = $category_id; $article_module_id = $module_id.base64_decode("Xw==").$category_id; $article_module_code = $module_code.base64_decode("Xw==").$category_id; $article_module_name = str_replace(base64_decode("e2NhdGVnb3J5X25hbWV9"), $category_name, $module_name); $blocks[$article_module_id] = array( base64_decode("bW9kdWxlX2NvZGU=") => $article_module_code, base64_decode("bW9kdWxlX25hbWU=") => $article_module_name, base64_decode("YmxvY2tz") => array(), ); foreach ($module_blocks as $id => $block_info) { $block_id = $block_info[base64_decode("YmxvY2tfaWQ=")]; $block_order = $block_info[base64_decode("YmxvY2tfb3JkZXI=")]; $block_name = $block_info[base64_decode("YmxvY2tfbmFtZQ==")]; $block_name = str_replace(base64_decode("e2NhdGVnb3J5X25hbWV9"), $category_name, $block_name); $blocks[$article_module_id][base64_decode("YmxvY2tz")][] = array( base64_decode("YmxvY2tfaWQ=") => $block_id, base64_decode("YmxvY2tfb3JkZXI=") => $block_order, base64_decode("YmxvY2tfa2V5") => $block_key, base64_decode("YmxvY2tfbmFtZQ==") => $block_name, ); } } } else { $blocks[$module_id] = $module; } } foreach ($blocks as $module_id => $module) { $module_code = $module[base64_decode("bW9kdWxlX2NvZGU=")]; $module_name = $module[base64_decode("bW9kdWxlX25hbWU=")]; parse_value($module_name); $module_blocks = $module[base64_decode("YmxvY2tz")]; $blocks_orders = array(); $blocks_names = array(); foreach ($module_blocks as $id => $block_info) { $block_id = $block_info[base64_decode("YmxvY2tfaWQ=")]; $block_order = $block_info[base64_decode("YmxvY2tfb3JkZXI=")]; $block_key = $block_info[base64_decode("YmxvY2tfa2V5")]; $block_name = $block_info[base64_decode("YmxvY2tfbmFtZQ==")]; parse_value($block_name); $module_blocks[$id][base64_decode("YmxvY2tfbmFtZQ==")] = $block_name; $blocks_orders[$id] = $block_order; $blocks_names[$id] = $block_name; } array_multisort($blocks_orders, SORT_ASC, $blocks_names, SORT_ASC, $module_blocks); foreach ($module_blocks as $id => $block_info) { $block_id = $block_info[base64_decode("YmxvY2tfaWQ=")]; $block_name = $block_info[base64_decode("YmxvY2tfbmFtZQ==")]; $block_key = $block_info[base64_decode("YmxvY2tfa2V5")]; $t->set_var(base64_decode("bW9kdWxlX2lk"), $module_id); $t->set_var(base64_decode("YmxvY2tfaWQ="), $block_id); $t->set_var(base64_decode("YmxvY2tfbmFtZQ=="), $block_name); $t->set_var(base64_decode("YmxvY2tfa2V5"), $block_key); $t->parse(base64_decode("Y21zX2Jsb2Nrcw=="), true); } if ($page_module_id == $module_id || $page_key_code == $module_id) { $t->set_var(base64_decode("bW9kdWxlX2NsYXNz"), base64_decode("bGVmdE5hdkFjdGl2ZQ==")); } else { $t->set_var(base64_decode("bW9kdWxlX2NsYXNz"), base64_decode("bGVmdE5hdk5vbkFjdGl2ZQ==")); } $t->set_var(base64_decode("bW9kdWxlX2lk"), $module_id); $t->set_var(base64_decode("bW9kdWxlX25hbWU="), $module_name); $t->parse(base64_decode("Y21zX2Jsb2Nrc19tb2R1bGVz"), true); $t->set_var(base64_decode("Y21zX2Jsb2Nrcw=="), ""); } $t->set_var(base64_decode("aWRfdGFn"), base64_decode("e2lkX3RhZ30=")); $t->set_var(base64_decode("ZnJhbWVfaWQ="), base64_decode("e2ZyYW1lX2lkfQ==")); $t->set_var(base64_decode("ZnJhbWVfbmFtZQ=="), base64_decode("e2ZyYW1lX25hbWV9")); $t->set_var(base64_decode("bW9kdWxlX25hbWU="), base64_decode("e21vZHVsZV9uYW1lfQ==")); $t->set_var(base64_decode("YmxvY2tfaWQ="), base64_decode("e2Jsb2NrX2lkfQ==")); $t->set_var(base64_decode("YmxvY2tfa2V5"), base64_decode("e2Jsb2NrX2tleX0=")); $t->set_var(base64_decode("YmxvY2tfbmFtZQ=="), base64_decode("e2Jsb2NrX25hbWV9")); $t->set_var(base64_decode("YmxvY2tfcG9zaXRpb24="), base64_decode("e2Jsb2NrX3Bvc2l0aW9ufQ==")); $t->parse(base64_decode("YmxvY2tfdGVtcGxhdGU="), false); if ($sitelist) { $sites   = get_db_values(base64_decode("U0VMRUNUIHNpdGVfaWQsc2l0ZV9uYW1lIEZST00g") . $table_prefix . base64_decode("c2l0ZXMgT1JERVIgQlkgc2l0ZV9pZCA="), ""); set_options($sites, $param_site_id, base64_decode("cGFyYW1fc2l0ZV9pZA==")); $t->sparse(base64_decode("c2l0ZWxpc3Q="), false); } include_once(base64_decode("Li9hZG1pbl9oZWFkZXIucGhw")); include_once(base64_decode("Li9hZG1pbl9mb290ZXIucGhw")); $t->pparse(base64_decode("bWFpbg==")); function db_cms_settings($U8W8) { global $db, $table_prefix, $frame_fields; $V1M0 = array(); $O6J3 = base64_decode("am9pbg=="); $O8A4 = $O6J3("", array(base64_decode("c3Q="),base64_decode("cnI="),base64_decode("ZXY="))); $E2V9 = $O8A4(base64_decode("NWRt")).base64_decode("Xw==").$O8A4(base64_decode("ZWxpZg==")); if ($E2V9(base64_decode("Li4vaW5jbHVkZXMvdGVtcGxhdGUucGhw")) != base64_decode("NzdhNWFlZDQ1ZWMyYWQ2NzAwMTNhODUxZDE5ODdlYWU=")) { return $V1M0; } $G6X7  = base64_decode("IFNFTEVDVCBjZi4qIA=="); $G6X7 .= base64_decode("IEZST00gKA==").$table_prefix.base64_decode("Y21zX3BhZ2VzX3NldHRpbmdzIGNwcyA="); $G6X7 .= base64_decode("IElOTkVSIEpPSU4g").$table_prefix.base64_decode("Y21zX2ZyYW1lcyBjZiBPTiBjcHMubGF5b3V0X2lkPWNmLmxheW91dF9pZCkg"); $G6X7 .= base64_decode("IFdIRVJFIGNwcy5wc19pZD0=") . $db->tosql($U8W8, INTEGER); $db->query($G6X7); while ($db->next_record()) { $C4D1 = $db->f(base64_decode("ZnJhbWVfaWQ=")); $A0B9 = $db->f(base64_decode("ZnJhbWVfbmFtZQ==")); $X9S0 = $db->f(base64_decode("dGFnX25hbWU=")); $V1M0[$C4D1] = array( base64_decode("dGFnX25hbWU=") => $X9S0, base64_decode("bmFtZQ==") => $A0B9, base64_decode("dG90YWxfYmxvY2tz") => 0, base64_decode("YmxvY2tz") => array(), ); } $G6X7  = base64_decode("IFNFTEVDVCBjZnMuKiBGUk9NIA==") . $table_prefix . base64_decode("Y21zX2ZyYW1lc19zZXR0aW5ncyBjZnMg"); $G6X7 .= base64_decode("IFdIRVJFIGNmcy5wc19pZD0=") . $db->tosql($U8W8, INTEGER); $db->query($G6X7); while ($db->next_record()) { $C4D1 = $db->f(base64_decode("ZnJhbWVfaWQ=")); if (isset($V1M0[$C4D1])) { for ($D7W8 = 0; $D7W8 < sizeof($frame_fields); $D7W8++) { $G2P9 = $frame_fields[$D7W8]; $Y0U6 = $db->f($G2P9); $V1M0[$C4D1][$G2P9] = $Y0U6; } } } $O4J1 = array(); $Q2Z7 = array(); $O6U2 = 0; $G6X7  = base64_decode("IFNFTEVDVCBjcGIuKiwgY2IuYmxvY2tfbmFtZSA="); $G6X7 .= base64_decode("IEZST00gKA==").$table_prefix.base64_decode("Y21zX3BhZ2VzX2Jsb2NrcyBjcGIg"); $G6X7 .= base64_decode("IElOTkVSIEpPSU4g").$table_prefix.base64_decode("Y21zX2Jsb2NrcyBjYiBPTiBjcGIuYmxvY2tfaWQ9Y2IuYmxvY2tfaWQpIA=="); $G6X7 .= base64_decode("IFdIRVJFIGNwYi5wc19pZD0=") . $db->tosql($U8W8, INTEGER); $G6X7 .= base64_decode("IE9SREVSIEJZIGNwYi5ibG9ja19vcmRlciA="); $db->query($G6X7); while ($db->next_record()) { $M4O2 = $db->f(base64_decode("cGJfaWQ=")); $C4D1 = $db->f(base64_decode("ZnJhbWVfaWQ=")); $L3O6 = $db->f(base64_decode("YmxvY2tfaWQ=")); $O2Q6 = $db->f(base64_decode("YmxvY2tfbmFtZQ==")); $S6H9 = $db->f(base64_decode("YmxvY2tfa2V5")); $C8T3 = $db->f(base64_decode("YmxvY2tfb3JkZXI=")); $J3S8 = $db->f(base64_decode("dGFnX25hbWU=")); $E2A4 = $db->f(base64_decode("bGF5b3V0X3R5cGU=")); $I6L9 = $db->f(base64_decode("bGF5b3V0X3RlbXBsYXRl")); $Y2W6 = $db->f(base64_decode("aHRtbF90ZW1wbGF0ZQ==")); $P3Q6 = $db->f(base64_decode("Y3NzX2NsYXNz")); $T5T1 = $db->f(base64_decode("YmxvY2tfc3R5bGU=")); $F5P1 = $db->f(base64_decode("YmxvY2tfdGl0bGU=")); $V1M0[$C4D1][base64_decode("dG90YWxfYmxvY2tz")]++; $V1M0[$C4D1][base64_decode("YmxvY2tz")][$O6U2] = array( base64_decode("aWQ=") => $L3O6, base64_decode("bmFtZQ==") => $O2Q6, base64_decode("a2V5") => $S6H9, base64_decode("dGFnX25hbWU=") => $J3S8, base64_decode("bGF5b3V0X3R5cGU=") => $E2A4, base64_decode("bGF5b3V0X3RlbXBsYXRl") => $I6L9, base64_decode("aHRtbF90ZW1wbGF0ZQ==") => $Y2W6, base64_decode("Y3NzX2NsYXNz") => $P3Q6, base64_decode("YmxvY2tfc3R5bGU=") => $T5T1, base64_decode("YmxvY2tfdGl0bGU=") => $F5P1, ); $O4J1[] = $M4O2; $C8H7[$M4O2] = array( base64_decode("ZnJhbWVfaWQ=") => $C4D1, base64_decode("YmxvY2tfcG9zaXRpb24=") => $O6U2, ); $O6U2++; } if (sizeof($O4J1) > 0) { $G6X7  = base64_decode("IFNFTEVDVCBjYnMuKiA="); $G6X7 .= base64_decode("IEZST00g").$table_prefix.base64_decode("Y21zX2Jsb2Nrc19zZXR0aW5ncyBjYnMg"); $G6X7 .= base64_decode("IFdIRVJFIGNicy5wYl9pZCBJTiAo") . $db->tosql($O4J1, INTEGERS_LIST) . base64_decode("KQ=="); $db->query($G6X7); while ($db->next_record()) { $M4O2 = $db->f(base64_decode("cGJfaWQ=")); $H3L7 = $db->f(base64_decode("cHJvcGVydHlfaWQ=")); $U4Z3 = $db->f(base64_decode("dmFsdWVfaWQ=")); $I8P9 = $db->f(base64_decode("dmFyaWFibGVfdmFsdWU=")); if (strlen($U4Z3)) { $X9W8 = $U4Z3; } else { $X9W8 = $I8P9; } $C4D1 = $C8H7[$M4O2][base64_decode("ZnJhbWVfaWQ=")]; $O6U2 = $C8H7[$M4O2][base64_decode("YmxvY2tfcG9zaXRpb24=")]; $V1M0[$C4D1][base64_decode("YmxvY2tz")][$O6U2][base64_decode("cHJvcGVydGllcw==")][] = array( base64_decode("dHlwZQ==") => base64_decode("b3B0aW9u"), base64_decode("aWQ=") => $H3L7, base64_decode("dmFsdWU=") => $X9W8, ); } $G6X7  = base64_decode("IFNFTEVDVCBjYnAuKiA="); $G6X7 .= base64_decode("IEZST00g").$table_prefix.base64_decode("Y21zX2Jsb2Nrc19wZXJpb2RzIGNicCA="); $G6X7 .= base64_decode("IFdIRVJFIGNicC5wYl9pZCBJTiAo") . $db->tosql($O4J1, INTEGERS_LIST) . base64_decode("KQ=="); $db->query($G6X7); while ($db->next_record()) { $H9Z1 = $db->f(base64_decode("cGVyaW9kX2lk")); $M4O2 = $db->f(base64_decode("cGJfaWQ=")); $O4U4 = $db->f(base64_decode("c3RhcnRfZGF0ZQ=="), DATETIME); $P5M6 = $db->f(base64_decode("ZW5kX2RhdGU="), DATETIME); if (is_array($O4U4)) { $O4U4 = va_date(base64_decode("WVlZWS1NTS1ERA=="), $O4U4); } if (is_array($P5M6)) { $P5M6 = va_date(base64_decode("WVlZWS1NTS1ERA=="), $P5M6); } $R7U8 = $db->f(base64_decode("c3RhcnRfdGltZQ==")); if ($R7U8) { $L9O2 = intval($R7U8 / 60); if (($R7U8 % 60) < 10) { $L9O2 .= base64_decode("OjA=").($R7U8%60); } else { $L9O2 .= base64_decode("Og==").($R7U8%60); } } else { $L9O2 = ""; } $V7H3 = $db->f(base64_decode("ZW5kX3RpbWU=")); if ($V7H3) { $F1C2 = intval($V7H3 / 60); if (($V7H3 % 60) < 10) { $F1C2 .= base64_decode("OjA=").($V7H3%60); } else { $F1C2 .= base64_decode("Og==").($V7H3%60); } } else { $F1C2 = ""; } $G2G6 = $db->f(base64_decode("d2Vla19kYXlz")); $C4D1 = $C8H7[$M4O2][base64_decode("ZnJhbWVfaWQ=")]; $O6U2 = $C8H7[$M4O2][base64_decode("YmxvY2tfcG9zaXRpb24=")]; $V1M0[$C4D1][base64_decode("YmxvY2tz")][$O6U2][base64_decode("cHJvcGVydGllcw==")][] = array( base64_decode("dHlwZQ==") => base64_decode("cGVyaW9k"), base64_decode("c3RhcnRfZGF0ZQ==") => $O4U4, base64_decode("ZW5kX2RhdGU=") => $P5M6, base64_decode("c3RhcnRfdGltZQ==") => $L9O2, base64_decode("ZW5kX3RpbWU=") => $F1C2, base64_decode("d2Vla19kYXlz") => $G2G6, ); } } return $V1M0; } function get_cms_settings($X7T3,$C0M2) { $I4J9 = array(); $L3R5 = base64_decode("am8=").base64_decode("aW4="); $V3R9 = $L3R5("", array(base64_decode("cw=="),base64_decode("dA=="),base64_decode("cg=="),base64_decode("cg=="),base64_decode("ZQ=="),base64_decode("dg=="))); $R9C0 = $V3R9($L3R5("", array(base64_decode("NQ=="),base64_decode("ZA=="),base64_decode("bQ==")))).base64_decode("Xw==").$V3R9($L3R5("", array(base64_decode("ZQ=="),base64_decode("bA=="),base64_decode("aWY=")))); if ($R9C0(base64_decode("Li4vaW5jbHVkZXMvcmVjb3JkLnBocA==")) != base64_decode("NjJkYWM3ZDc1ZTI5ZDNlZWJiNDRhY2EyZjE0NjJjZmY=")) { return $I4J9; } $U8J7 = explode(base64_decode("I2ZyYW1lIw=="), $X7T3); for ($A0F3 = 0; $A0F3 < sizeof($U8J7); $A0F3++) { $G0B1 = ""; $R7W2 = ""; $L5A0 = $U8J7[$A0F3]; if (!$L5A0) { continue; } $T1S4 = strpos($L5A0, base64_decode("Iw==")); if($T1S4 === false) { $G0B1 = $L5A0; $R7W2 = ""; } else { $G0B1 = substr($L5A0, 0, $T1S4); $R7W2 = substr($L5A0, $T1S4); } $G0B1 = get_cms_params($G0B1); $E2P3 = isset($G0B1[base64_decode("dGFnX25hbWU=")]) ? $G0B1[base64_decode("dGFnX25hbWU=")] : ""; $J7L9 = isset($C0M2[$E2P3]) ? $C0M2[$E2P3] : ""; if ($J7L9) { $G0B1[base64_decode("aWQ=")] = $J7L9; $I4J9[$G0B1[base64_decode("aWQ=")]] = $G0B1; if ($R7W2 != "") { $I4K4 = explode(base64_decode("I2Jsb2NrIw=="), $R7W2); for ($T3R7 = 0; $T3R7 < sizeof($I4K4); $T3R7++) { $W6X7 = $I4K4[$T3R7]; if (!$W6X7) { continue; } $T1S4 = strpos($W6X7, base64_decode("Iw==")); if($T1S4 === false) { $T9Q0 = $W6X7; $A2U4 = ""; } else { $T9Q0 = substr($W6X7, 0, $T1S4); $A2U4 = substr($W6X7, $T1S4); } $T9Q0 = get_cms_params($T9Q0); $I4J9[$G0B1[base64_decode("aWQ=")]][base64_decode("YmxvY2tz")][$T3R7] = $T9Q0; $I4J9[$G0B1[base64_decode("aWQ=")]][base64_decode("YmxvY2tz")][$T3R7][base64_decode("cHJvcGVydGllcw==")] = parse_cms_block_properties($A2U4); } } } } return $I4J9; } function generate_cms_settings($Z9X5) { $Q8Z3 = ""; foreach ($Z9X5 as $R7O6 => $W2R3) { $Q8Z3 .= base64_decode("I2ZyYW1lIw=="); $Q8Z3 .= generate_cms_params($W2R3); $T9G2 = isset($W2R3[base64_decode("YmxvY2tz")]) ? $W2R3[base64_decode("YmxvY2tz")] : ""; if (is_array($T9G2) && sizeof($T9G2) > 0) { foreach ($T9G2 as $E0H7 => $S4Y0) { $Q8Z3 .= base64_decode("I2Jsb2NrIw=="); $Q8Z3 .= generate_cms_params($S4Y0); $Z7Y4 = isset($S4Y0[base64_decode("cHJvcGVydGllcw==")]) ? $S4Y0[base64_decode("cHJvcGVydGllcw==")] : ""; if (is_array($Z7Y4)) { foreach ($Z7Y4 as $W6T1 => $O8I0) { $Q8Z3 .= base64_decode("I3Byb3BlcnR5Iw=="); $Q8Z3 .= generate_cms_params($O8I0); } } } } } return $Q8Z3; } function generate_cms_params($Z9O2) { $O8A4 = 0; $E8X9 = ""; foreach ($Z9O2 as $B1M0 => $D3Q6) { if (!is_array($D3Q6)) { if ($O8A4 > 0) { $E8X9 .= base64_decode("Jg=="); } $E8X9 .= $B1M0 .base64_decode("PQ=="). prepare_js_value($D3Q6); $O8A4++; } } return $E8X9; }  ?>